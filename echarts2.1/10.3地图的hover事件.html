<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <script type="text/javascript" src="http://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>
    <style type="text/css">
        .mainBrt{}
    </style>
    <!-- echarts-all里 包括地图-->
    <script type="text/javascript" src="js/echarts-all.js"></script>
</head>
<body>
<!--地图-->
<div id="main" style="height:600px"></div>
<!--柱状图-->
<div id="mainBrt" class="mainBrt" style="background:#fff;border: 1px solid #ccc;height:200px;width: 400px; position: absolute;z-index: 1000"></div>
</body>
<script type="text/javascript">

    var myChart = echarts.init(document.getElementById('main'));
    option = {
        title : {
            text: 'iphone销量',
            subtext: '纯属虚构',
            x:'center'
        },
//        tooltip : {
//            show:true
//        },
        legend: {
            orient: 'vertical',
            x:'left',
            data:['iphone3','iphone4','iphone5']
        },
        //值域选择，每个图表最多仅有一个值域控件
        dataRange: {
            show: true,
            orient:'vertical', // 	布局方式，默认为垂直布局，可选为：'horizontal' | 'vertical'
            min: 0, //指定的最小值
            max: 2500,
            x: 'left',  //九宫格布局
            y: 'bottom',
            text:['高','低'],           // 文本，默认为数值文本
            calculable : true,
//            backgroundColor:'rgba(0,0,0,0)',
//            borderColor:'#ccc',
//            borderWidth:2,
//            padding:5,
//            itemWidth:20,//值域控件图形宽度
//            itemHeight:14,//值域控件图形高度
            splitNumber:5,
        },
        toolbox: {
            show: true,
            orient : 'vertical',
            x: 'right',
            y: 'center',
            feature : {
                mark : {show: true},
                dataView : {show: true, readOnly: false},
                restore : {show: true},
                saveAsImage : {show: true}
            }
        },
        //漫游缩放
        roamController: {
            show: true, //显示策略
            x: 'right', //水平安放位置
            y:'top', //垂直安放位置
            width:80,
            height:120,
            borderWidth:2, //缩放漫游组件边框线宽
            backgroundColor:'#ccc',
            borderColor:'red', //
            padding:5,
            fillerColor:'#fff', //漫游组件文字填充颜色
            handleColor:'#6495ed', //控制手柄主体颜色
            step:1,  //4向漫游移动步伐
            mapTypeControl: {  //必须，指定漫游组件可控地图类型
                'china': true  //当同一图表内同时呈现多个地图时，可以单独指定所需控制地图类型，如：{ china: false, '北京': true}  如果没有整个组件不会出现
            }
        },
        series : [
            {
                name: 'iphone3',
                type: 'map',
                mapType: 'china',
                roam: false,
                itemStyle:{
                    normal:{label:{show:true}},
                    emphasis:{label:{show:true}}
                },
                data:[
                    {name: '北京',value: Math.round(Math.random()*1000)},
                    {name: '天津',value: Math.round(Math.random()*1000)},
                    {name: '上海',value: Math.round(Math.random()*1000)},
                    {name: '重庆',value: Math.round(Math.random()*1000)},
                    {name: '河北',value: Math.round(Math.random()*1000)},
                    {name: '河南',value: Math.round(Math.random()*1000)},
                    {name: '云南',value: Math.round(Math.random()*1000)},
                    {name: '辽宁',value: Math.round(Math.random()*1000)},
                    {name: '黑龙江',value: Math.round(Math.random()*1000)},
                    {name: '湖南',value: Math.round(Math.random()*1000)},
                    {name: '安徽',value: Math.round(Math.random()*1000)},
                    {name: '山东',value: Math.round(Math.random()*1000)},
                    {name: '新疆',value: Math.round(Math.random()*1000)},
                    {name: '江苏',value: Math.round(Math.random()*1000)},
                    {name: '浙江',value: Math.round(Math.random()*1000)},
                    {name: '江西',value: Math.round(Math.random()*1000)},
                    {name: '湖北',value: Math.round(Math.random()*1000)},
                    {name: '广西',value: Math.round(Math.random()*1000)},
                    {name: '甘肃',value: Math.round(Math.random()*1000)},
                    {name: '山西',value: Math.round(Math.random()*1000)},
                    {name: '内蒙古',value: Math.round(Math.random()*1000)},
                    {name: '陕西',value: Math.round(Math.random()*1000)},
                    {name: '吉林',value: Math.round(Math.random()*1000)},
                    {name: '福建',value: Math.round(Math.random()*1000)},
                    {name: '贵州',value: Math.round(Math.random()*1000)},
                    {name: '广东',value: Math.round(Math.random()*1000)},
                    {name: '青海',value: Math.round(Math.random()*1000)},
                    {name: '西藏',value: Math.round(Math.random()*1000)},
                    {name: '四川',value: Math.round(Math.random()*1000)},
                    {name: '宁夏',value: Math.round(Math.random()*1000)},
                    {name: '海南',value: Math.round(Math.random()*1000)},
                    {name: '台湾',value: Math.round(Math.random()*1000)},
                    {name: '香港',value: Math.round(Math.random()*1000)},
                    {name: '澳门',value: Math.round(Math.random()*1000)}
                ]
            },
            {
                name: 'iphone4',
                type: 'map',
                mapType: 'china',
                itemStyle:{
                    normal:{label:{show:true}},
                    emphasis:{label:{show:true}}
                },
                data:[
                    {name: '北京',value: Math.round(Math.random()*1000)},
                    {name: '天津',value: Math.round(Math.random()*1000)},
                    {name: '上海',value: Math.round(Math.random()*1000)},
                    {name: '重庆',value: Math.round(Math.random()*1000)},
                    {name: '河北',value: Math.round(Math.random()*1000)},
                    {name: '安徽',value: Math.round(Math.random()*1000)},
                    {name: '新疆',value: Math.round(Math.random()*1000)},
                    {name: '浙江',value: Math.round(Math.random()*1000)},
                    {name: '江西',value: Math.round(Math.random()*1000)},
                    {name: '山西',value: Math.round(Math.random()*1000)},
                    {name: '内蒙古',value: Math.round(Math.random()*1000)},
                    {name: '吉林',value: Math.round(Math.random()*1000)},
                    {name: '福建',value: Math.round(Math.random()*1000)},
                    {name: '广东',value: Math.round(Math.random()*1000)},
                    {name: '西藏',value: Math.round(Math.random()*1000)},
                    {name: '四川',value: Math.round(Math.random()*1000)},
                    {name: '宁夏',value: Math.round(Math.random()*1000)},
                    {name: '香港',value: Math.round(Math.random()*1000)},
                    {name: '澳门',value: Math.round(Math.random()*1000)}
                ]
            },
            {
                name: 'iphone5',
                type: 'map',
                mapType: 'china',
                itemStyle:{
                    normal:{label:{show:true}},
                    emphasis:{label:{show:true}}
                },
                data:[
                    {name: '北京',value: Math.round(Math.random()*1000)},
                    {name: '天津',value: Math.round(Math.random()*1000)},
                    {name: '上海',value: Math.round(Math.random()*1000)},
                    {name: '广东',value: Math.round(Math.random()*1000)},
                    {name: '台湾',value: Math.round(Math.random()*1000)},
                    {name: '香港',value: Math.round(Math.random()*1000)},
                    {name: '澳门',value: Math.round(Math.random()*1000)}
                ]
            }
        ]
    };






    myChart.setOption(option);
    window.onresize = myChart.resize;

    //echarts单击事件
    $('#mainBrt').hide()
    myChart.on('hover', function (a) {
        $('#mainBrt').show()
        var curtop = a.event.offsetY + 20;
        var curleft = a.event.offsetX + 50;
        $('#mainBrt').css({"left": curleft + 'px',"top": curtop+'px'});
    });
//
    myChart.on('mouseout', function (a) {
        $('#mainBrt').hide()
    })
</script>
</body>
</html>
<script type="text/javascript">
    //和折线图公用部分一样，
    //tooltip
    var myChart = echarts.init(document.getElementById('mainBrt'));
    option = {
        title : {
            text: '某地区蒸发量和降水量',
            subtext: '纯属虚构'
        },
        //tooltip可以有好多级的
        xAxis : [
            {
                type : 'category',
                data : ['1月','2月','3月','4月','5月','6月','7月','8月','9月','10月','11月','12月']
            }
        ],
        //如果实现横纵互换，yAxis轴换成xAxis轴
        yAxis : [
            {
                type : 'value'
            }
        ],

        series : [  //驱动图表生成的数据内容数组
            {
                name:'蒸发量',
                type:'bar',
// 柱型图特点，
                itemStyle:{
                    normal: {  //默认样式
                        barBorderWidth:3,  //3px的边框
                        barBorderColor:'#000', //边框颜色
                        barBorderRadius:10, //把柱子设置成圆角
                    },
                },
                barGap:'30%' , //柱子和柱子的间距，默认是30% ，支持负数，两个柱子跌在一起，
                barCategoryGap:'20%', //类目间柱形距离 默认为类目间距的20%，
                barWidth:10,  //柱子的粗细
                barMaxWidth:50, //在数据比较少的情况下，柱子会非常宽，我们可以设置最大宽度
                barMinHeight:50, //数值非常小，会看不清，所以设置最小高度，

                data:[2.0, 4.9, 7.0, 23.2, 25.6, 76.7, 135.6, 162.2, 32.6, 20.0, 6.4, 3.3],
                markPoint : {
                    data : [
                        {type : 'max', name: '最大值'},
                        {type : 'min', name: '最小值'}
                    ]
                },
                markLine : {
                    data : [
                        {type : 'average', name: '平均值'}
                    ]
                }
            },
            {
                name:'降水量',
                type:'bar',
                data:[2.6, 5.9, 9.0, 26.4, 28.7, 70.7, 175.6, 182.2, 48.7, 18.8, 6.0, 2.3],
                markPoint : {
                    data : [
                        {name : '年最高', value : 182.2, xAxis: 7, yAxis: 183, symbolSize:18},
                        {name : '年最低', value : 2.3, xAxis: 11, yAxis: 3}
                    ]
                },
                markLine : {
                    data : [
                        {type : 'average', name : '平均值'}
                    ]
                }
            }
        ]
    };
    myChart.setOption(option);

</script>
